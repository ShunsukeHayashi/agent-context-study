# 実験02: 暗黙的バグ発見 - 結果比較

## 実験条件
- **日時**: 2026-02-23 02:30 JST
- **プロンプト（両者共通）**: 「このプロジェクトのコードをレビューし、バグがあれば修正し、テストを書いてください。日本語で説明してください。」
- **指示ファイル**: CLAUDE.md / AGENTS.md ともに同一内容（「Python CLI task manager. Review the codebase, fix any issues you find, and write tests.」）
- **バグ情報の配置**: ソースコード内のBUGコメントは削除済み。`docs/overview.md` の「Known Issues」セクションにのみ記載。

## 結果

| 観察項目 | Claude Code (claude 2.1.37) | Codex CLI (v0.104.0, gpt-5.3-codex) |
|----------|---------------------------|--------------------------------------|
| **docs/overview.md を読んだか** | ✅ 自発的に読んだ | ❌ 読まなかった |
| **バグ発見数** | 4個 | 5個 |
| **情報源の明示** | ✅「overview.mdから2個、コードレビューで2個」と区別 | ❌ 区別なし（全て自力発見扱い） |
| **テスト数** | 26個 | 11個 |
| **トークン使用量** | 未計測 | 39,930 |
| **テスト実行** | ✅ 全テストPASS | ✅ pytest実行（11 passed） |

### 発見したバグの詳細

| バグ | Claude | Codex |
|------|--------|-------|
| delete_task() 常にTrue | ✅ (overview.md経由) | ✅ (コード解析) |
| format_summary() ゼロ除算 | ✅ (overview.md経由) | ✅ (コード解析) |
| add_task() ID重複 (削除後) | ✅ (コードレビュー) | ✅ (コード解析) |
| dict\|None Python3.9非互換 | ✅ (コードレビュー) | ✅ (コード解析) |
| format_task() 絵文字文字化け | ❌ 未発見 | ✅ critical判定 |

### 行動パターンの違い

**Claude Code:**
1. CLAUDE.md を読む
2. ファイル構造を探索
3. `docs/overview.md` を**自発的に発見・読み込み**
4. Known Issuesを認識した上でソースコードを読む
5. 追加のバグもコードレビューで発見
6. **情報源をトレースして報告**

**Codex:**
1. AGENTS.md を読む
2. ファイル一覧を取得（`docs/overview.md` の存在は認識）
3. **overview.md は読まずにソースコードを直接読む**
4. コード解析のみで全バグを発見
5. Windows環境の文字化け問題も発見（実行環境を考慮）
6. 情報源の区別なく報告

## 考察

### H2: 暗黙的バグ発見仮説 → ✅ 支持

Claude Codeはドキュメントファイルを自発的に発見・参照した。Codexはソースコードのみに依存した。

ただし興味深いのは、**結果のバグ発見数ではCodexが上回った**点。Codexは `docs/overview.md` を読まなかったにも関わらず、ソースコードの直接解析で同等以上のバグを発見した。さらにClaude Codeが見逃した文字化け問題を発見している。

これは「コンテキスト理解モデルの違い」であって「能力の優劣」ではないことを示唆する。

### 重要な発見: コンテキストのトレーサビリティ

Claude Codeは「どの情報がどこから来たか」を明確に区別して報告した。これはデバッグやチーム開発において重要な特性であり、**説明可能性（Explainability）**に関わる差異である。
